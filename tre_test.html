<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Mock Test - Testara</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}
body{background:#f4f6f9}

/* HEADER */
header{
  background:#007bff;
  color:#fff;
  padding:14px;
  text-align:center;
  font-size:1.3rem;
  font-weight:600;
}

/* MAIN LAYOUT */
.container{display:flex;min-height:82vh}
.left-panel{flex:4;background:#fff;border-right:2px solid #ddd}
.right-panel{flex:1;background:#f8f9fa;display:flex;flex-direction:column}

/* META BAR */
.meta-bar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 15px;
  border-bottom:1px solid #ddd;
}
.meta-left{display:flex;gap:18px;flex-wrap:wrap}

/* SECTION TABS */
.section-tabs{
  display:flex;
  gap:10px;
  padding:10px;
  border-bottom:1px solid #ccc;
  overflow-x:auto;
}
.section-tab{
  padding:6px 16px;
  border:2px solid #007bff;
  border-radius:25px;
  background:transparent;
  color:#007bff;
  cursor:pointer;
  font-size:14px;
}
.section-tab.active{
  background:#007bff;
  color:#fff;
}

/* QUESTION CARD */
.question-box{
  padding:20px;
  background:#fff;
  border-radius:8px;
  margin:15px;
  box-shadow:0 2px 8px rgba(0,0,0,0.05);
}

/* RADIO */
input[type="radio"]{
  transform:scale(1.2);
  margin-right:8px;
  accent-color:#007bff;
}

/* STATUS BOX */
.status-box{
  background:#fff;
  border:1px solid #ccc;
  margin:10px;
}
.status-box h3{
  text-align:center;
  padding:8px;
  background:#e9ecef;
}
.status-grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
  padding:10px;
}
.count-box{
  width:26px;height:26px;
  text-align:center;
  line-height:26px;
  font-weight:bold;
  border-radius:4px;
}
.green{background:#28a745;color:#fff}
.orange{background:#fd7e14;color:#fff}
.grey{background:#eee}
.purple{background:#6f42c1;color:#fff}
.gradient-green-purple{
  background:radial-gradient(circle,#28a745 60%,#6f42c1 40%);
  color:#fff;
}

/* NAVIGATOR */
.question-navigator{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(38px,1fr));
  gap:8px;
  padding:10px;
  max-height:300px;
  overflow-y:auto;
}
.navigator-btn{
  height:36px;
  line-height:36px;
  text-align:center;
  font-weight:bold;
  border:2px solid #ccc;
  background:#eee;
  cursor:pointer;
  border-radius:4px;
}
.current-question{border-radius:50%}
.answered{background:#28a745;color:#fff}
.not-answered{background:#fd7e14;color:#fff}
.review{background:#6f42c1;color:#fff}
.review-answered{
  background:radial-gradient(circle,#28a745 50%,#6f42c1 50%);
  color:#fff;
}

/* FOOTER */
footer{
  position:sticky;
  bottom:0;
  display:flex;
  background:#f8f9fa;
  padding:10px;
  border-top:1px solid #ccc;
  flex-wrap:wrap;
}
footer button{
  padding:8px 12px;
  border:none;
  border-radius:4px;
  cursor:pointer;
  color:#fff;
}
#clearBtn{background:#dc3545}
#backBtn{background:#6c757d}
#reviewBtn{background:#007bff}
#nextBtn{background:#28a745}
#submitBtn{
  background:#17a2b8;
  font-weight:bold;
  padding:10px 18px;
}

/* MOBILE */
@media(max-width:768px){
  .container{flex-direction:column-reverse}
  .meta-bar{flex-direction:column;gap:6px;font-size:14px}
  footer{flex-direction:column;gap:10px}
  footer button,#submitBtn{width:100%}
}
</style>
</head>

<body>

<header id="examName">Mock Test</header>

<div class="container">

<div class="left-panel">

<div class="meta-bar">
<div>üë§ <strong id="username-display">Guest</strong></div>
<div>‚è± <span id="timer">00:00</span></div>
</div>

<div class="section-tabs" id="sectionTabs"></div>

<div class="meta-bar">
<div class="meta-left">
<div id="question-number"></div>
<div>Type: <strong id="questionType"></strong></div>
<div>Marks: <strong id="questionMarks"></strong></div>
<div>Negative: <strong id="questionNegative"></strong></div>
</div>
</div>

<div id="question-box" class="question-box"></div>

</div>

<div class="right-panel">

<div class="status-box">
<h3>Question Status</h3>
<div class="status-grid">
<div><div id="answeredCount" class="count-box green">0</div> Answered</div>
<div><div id="notAnsweredCount" class="count-box orange">0</div> Not Answered</div>
<div><div id="notVisitedCount" class="count-box grey">0</div> Not Visited</div>
<div><div id="markedCount" class="count-box purple">0</div> Review</div>
</div>
<div style="padding:10px">
<div id="markedAndAnsweredCount" class="count-box gradient-green-purple">0</div>
Answered & Review
</div>
</div>

<div class="question-navigator" id="navigator"></div>

</div>

</div>

<footer>
<div style="flex:4;display:flex;gap:8px;flex-wrap:wrap">
<button id="clearBtn">Clear</button>
<button id="backBtn">Back</button>
<button id="reviewBtn">Review</button>
<button id="nextBtn">Save & Next</button>
</div>
<div style="flex:1;text-align:center">
<button id="submitBtn">Submit</button>
</div>
</footer>

<script>
let questions=[]
let currentIndex=0
let answers={}
let visited={}
let reviewMarked={}
let remainingSeconds=1800
let timerInterval

const letters=["(A)","(B)","(C)","(D)","(E)"]

function startTimer(){
timerInterval=setInterval(()=>{
const mins=String(Math.floor(remainingSeconds/60)).padStart(2,'0')
const secs=String(remainingSeconds%60).padStart(2,'0')
document.getElementById("timer").textContent=`${mins}:${secs}`
if(remainingSeconds<=0){clearInterval(timerInterval);alert("Time Up");}
remainingSeconds--
},1000)
}

function loadQuestion(index){
currentIndex=index
visited[index]=true
const q=questions[index]

document.getElementById("question-number").innerHTML=`Question No: <strong>${index+1}</strong>`
document.getElementById("questionType").textContent=q.type
document.getElementById("questionMarks").innerHTML=`+${q.marks}`
document.getElementById("questionNegative").innerHTML=q.negative

let html=`<p style="font-weight:bold;margin-bottom:12px">${q.question}</p>`
q.options.forEach((opt,i)=>{
const letter=letters[i]||`(${String.fromCharCode(65+i)})`
const checked=answers[index]===opt?"checked":""
html+=`
<label style="display:block;margin-bottom:8px;cursor:pointer">
<input type="radio" name="q${index}" value="${opt}" ${checked}
onchange="saveAnswer(${index},'${opt}')">
${letter} ${opt}
</label>`
})
document.getElementById("question-box").innerHTML=html
renderNavigator()
updateStatusCounts()
}

function saveAnswer(i,val){
answers[i]=val
renderNavigator()
updateStatusCounts()
}

function renderNavigator(){
const nav=document.getElementById("navigator")
nav.innerHTML=""
questions.forEach((q,i)=>{
const btn=document.createElement("div")
btn.classList.add("navigator-btn")
btn.innerText=i+1
const v=visited[i],a=answers[i]!==undefined,r=reviewMarked[i]
if(r&&a)btn.classList.add("review-answered")
else if(r)btn.classList.add("review")
else if(a)btn.classList.add("answered")
else if(v)btn.classList.add("not-answered")
if(i===currentIndex)btn.classList.add("current-question")
btn.onclick=()=>loadQuestion(i)
nav.appendChild(btn)
})
}

function updateStatusCounts(){
let answered=0,notVisited=0,notAnswered=0,marked=0,markedAndAnswered=0
questions.forEach((q,i)=>{
const v=visited[i],a=answers[i]!==undefined,r=reviewMarked[i]
if(!v)notVisited++
else if(r&&a)markedAndAnswered++
else if(r)marked++
else if(a)answered++
else notAnswered++
})
document.getElementById("answeredCount").innerText=answered
document.getElementById("notAnsweredCount").innerText=notAnswered
document.getElementById("notVisitedCount").innerText=notVisited
document.getElementById("markedCount").innerText=marked
document.getElementById("markedAndAnsweredCount").innerText=markedAndAnswered
}

/* SAMPLE DATA */
questions=[
{question:"Capital of India?",options:["Delhi","Mumbai","Kolkata","Chennai","Bhopal"],answer:"Delhi",marks:1,negative:-0.25,type:"MCQ"},
{question:"2 + 2 = ?",options:["2","3","4","5","6"],answer:"4",marks:1,negative:-0.25,type:"MCQ"}
]

window.onload=()=>{
startTimer()
loadQuestion(0)
}
</script>

</body>
</html>
